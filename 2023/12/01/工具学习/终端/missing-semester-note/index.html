<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Missing Semmster Learning 学习笔记 - Desirer&#039;s blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Desirer&#039;s blog"><meta name="msapplication-TileImage" content="/images/icon2.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Desirer&#039;s blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="计算机教学中缺失的一课 ：https:&amp;#x2F;&amp;#x2F;missing.csail.mit.edu&amp;#x2F; 笔记很丑，不想再改。"><meta property="og:type" content="blog"><meta property="og:title" content="Missing Semmster Learning 学习笔记"><meta property="og:url" content="https://xyz.desirer233.fun/2023/12/01/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/missing-semester-note/"><meta property="og:site_name" content="Desirer&#039;s blog"><meta property="og:description" content="计算机教学中缺失的一课 ：https:&amp;#x2F;&amp;#x2F;missing.csail.mit.edu&amp;#x2F; 笔记很丑，不想再改。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://xyz.desirer233.fun/img/og_image.png"><meta property="article:published_time" content="2023-12-01T11:00:00.000Z"><meta property="article:modified_time" content="2023-12-01T15:23:53.712Z"><meta property="article:author" content="Desirer"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://xyz.desirer233.fun/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyz.desirer233.fun/2023/12/01/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/missing-semester-note/"},"headline":"Missing Semmster Learning 学习笔记","image":["https://xyz.desirer233.fun/img/og_image.png"],"datePublished":"2023-12-01T11:00:00.000Z","dateModified":"2023-12-01T15:23:53.712Z","author":{"@type":"Person","name":"Desirer"},"publisher":{"@type":"Organization","name":"Desirer's blog","logo":{"@type":"ImageObject","url":"https://xyz.desirer233.fun/images/icon2.png"}},"description":"计算机教学中缺失的一课 ：https:&#x2F;&#x2F;missing.csail.mit.edu&#x2F; 笔记很丑，不想再改。"}</script><link rel="canonical" href="https://xyz.desirer233.fun/2023/12/01/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/missing-semester-note/"><link rel="icon" href="/images/icon2.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/icon2.png" alt="Desirer&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/bangumis">追番</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-12-01T11:00:00.000Z" title="2023/12/1 19:00:00">2023-12-01</time>发表</span><span class="level-item"><time dateTime="2023-12-01T15:23:53.712Z" title="2023/12/1 23:23:53">2023-12-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/">工具学习</a><span> / </span><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/">终端</a></span><span class="level-item">16 分钟读完 (大约2463个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Missing Semmster Learning 学习笔记</h1><div class="content"><p>计算机教学中缺失的一课 ：<a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/">https://missing.csail.mit.edu/</a></p>
<p>笔记很丑，不想再改。</p>
<span id="more"></span>

<h2 id="一、Course-overview-the-shell"><a href="#一、Course-overview-the-shell" class="headerlink" title="一、Course overview + the shell"></a>一、<a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/2020/course-shell/">Course overview + the shell</a></h2><p>认识shell。shell直译为壳，比喻为操作系统内核外面的一层，是我们同内核对话的一个界面。</p>
<p>推荐阅读：<a target="_blank" rel="noopener" href="https://wangdoc.com/bash/intro">https://wangdoc.com/bash/intro</a></p>
<p>bash是最常用的shell，可以把它当作一种编程语言，命令解释器。以下学习的就是bash的相关命令。</p>
<h3 id="1-1-shell命令入门"><a href="#1-1-shell命令入门" class="headerlink" title="1.1 shell命令入门"></a>1.1 shell命令入门</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello world&quot;</span><br><span class="line">echo &#x27;hello world&#x27;</span><br><span class="line">echo hello\ world</span><br></pre></td></tr></table></figure>

<p>echo的字符用双引号或单引号包含。也可以不用它们，但遇到空格时要用反斜杠转译空格。（因为空格默认为分隔符）</p>
<h3 id="1-2-how-system-can-find-echo"><a href="#1-2-how-system-can-find-echo" class="headerlink" title="1.2 how system can find echo?"></a>1.2 how system can find echo?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">which echo</span><br><span class="line">/bin/echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure>

<p>echo其实是一段小程序，它也有自己的代码。通过<code>$PATH</code>这个系统变量，就能知道操作系统在哪里寻找echo的可执行文件。</p>
<p>也可以通过指定可执行文件的路径的方式来执行特定的可执行文件。</p>
<h3 id="1-3-navigting-in-the-shell"><a href="#1-3-navigting-in-the-shell" class="headerlink" title="1.3 navigting in the shell"></a>1.3 navigting in the shell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br><span class="line">pwd</span><br><span class="line">ls和ls -l</span><br><span class="line">绝对路径和相对路径</span><br></pre></td></tr></table></figure>

<p>理解linux的路径是一颗树，根路径从&#x2F;开始。绝对路径从根开始，相对路径是相对于当前目录。</p>
<h3 id="1-4-connecting-programs"><a href="#1-4-connecting-programs" class="headerlink" title="1.4 connecting programs"></a>1.4 connecting programs</h3><p>programs always associated with tow stream: input stream and output stream<br>redirection &lt; file and &gt; file<br>when cat is not given any arguments, it prints contents from its input stream to its output stream</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat &lt; hello.txt</span><br><span class="line">| pipe command</span><br></pre></td></tr></table></figure>

<p>unix系统设计的哲学：</p>
<ul>
<li>程序默认从键盘接受输入，输出到屏幕。（即每个程序关联标准输入流，标准输出流）</li>
<li>通过左右箭头符号可以重定向输入输出</li>
<li>管道可以将上一个程序的输出导入到下一个程序的输入</li>
</ul>
<h2 id="二、Shell-Tools-and-Scripting"><a href="#二、Shell-Tools-and-Scripting" class="headerlink" title="二、Shell Tools and Scripting"></a>二、<a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/2020/shell-tools/">Shell Tools and Scripting</a></h2><p>shell scripting, about learning a new language:</p>
<ul>
<li>basic data type</li>
<li>Control flow<ul>
<li>If</li>
<li>case</li>
<li>while </li>
<li>for</li>
</ul>
</li>
<li>syntax</li>
</ul>
<p>shell编程就是学新的编程语言，你需要知道：</p>
<ul>
<li>数据类型</li>
<li>程序控制流</li>
<li>具体语法</li>
</ul>
<h3 id="2-1-variable"><a href="#2-1-variable" class="headerlink" title="2.1 variable"></a>2.1 variable</h3><p>如何定义变量？直接写出变量名，紧跟着等于号，最后是值。注意中间不能有空格。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo=bar # foo = bar is wrong</span><br></pre></td></tr></table></figure>

<p>双引号和单引号在shell程序中的区别在于里面的变量是否会被解释。单引号不会解释变量。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;$foo&quot; # this print bar</span><br><span class="line">echo &#x27;$foo&#x27; # this print $foo</span><br></pre></td></tr></table></figure>

<h3 id="2-2-function"><a href="#2-2-function" class="headerlink" title="2.2 function"></a>2.2 function</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mcd () &#123;</span><br><span class="line">	mkdir -p &quot;$1&quot;</span><br><span class="line">	cd &quot;$1&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>$0 name of program</li>
<li>$1-9 arguments to the script</li>
<li>$# number of arguments</li>
<li>$$ pid</li>
<li>$@ all the arguments</li>
<li>$? the last command’s exit status</li>
</ul>
<p>定义函数也非常简单，xxx。</p>
<h3 id="2-3-Logical-command"><a href="#2-3-Logical-command" class="headerlink" title="2.3 Logical command"></a>2.3 Logical command</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|| </span><br><span class="line">&amp;&amp;</span><br><span class="line">; # simplely seperate current command and the next command</span><br></pre></td></tr></table></figure>

<p>或逻辑、与逻辑、单纯的分隔符。在命令行环境中也能使用。</p>
<h3 id="2-4-command-substitution"><a href="#2-4-command-substitution" class="headerlink" title="2.4 command substitution"></a>2.4 command substitution</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;start program at $(date)&quot;</span><br></pre></td></tr></table></figure>

<p>这就是先前讲的，双引号内的命令会被解释执行。前提是用<code>$()</code>包围。</p>
<h3 id="2-5-Process-substitution"><a href="#2-5-Process-substitution" class="headerlink" title="2.5 Process substitution"></a>2.5 Process substitution</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;(cmd) </span><br><span class="line"></span><br><span class="line"># this will execute cmd and place the output in a temporary file and substitute the</span><br><span class="line"># &lt;() with that file&#x27;s name</span><br></pre></td></tr></table></figure>

<p>在Bash中，”&lt;(cmd)”是一种称为”Process Substitution”的特殊语法，它允许将命令的输出作为文件传递给另一个命令。</p>
<p>具体来说，”&lt;(cmd)”会将命令cmd的输出作为一个临时文件，并将该文件的路径作为参数传递给当前命令。</p>
<p>这个临时文件只存在于命令执行期间，并在命令执行完毕后自动删除。</p>
<h3 id="2-6-wildcards-and-curly-braces"><a href="#2-6-wildcards-and-curly-braces" class="headerlink" title="2.6 wildcards and curly braces"></a>2.6 wildcards and curly braces</h3><ul>
<li>Wildcards - Whenever you want to perform some sort of wildcard matching, you can use <code>?</code> and <code>*</code> to match one or any amount of characters respectively.</li>
</ul>
<p>For instance, given files <code>foo</code>, <code>foo1</code>, <code>foo2</code>, <code>foo10</code> and <code>bar</code>, the command <code>rm foo?</code> will delete <code>foo1</code> and <code>foo2</code> whereas <code>rm foo*</code> will delete all but <code>bar</code>.</p>
<ul>
<li>Curly braces <code>&#123;&#125;</code> - Whenever you have a common substring in a series of commands, you can use curly braces for bash to expand this automatically.</li>
</ul>
<p>This comes in very handy when moving or converting files.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">convert image.&#123;png,jpg&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will <span class="built_in">expand</span> to</span></span><br><span class="line">convert image.png image.jpg</span><br><span class="line"></span><br><span class="line">cp /path/to/project/&#123;foo,bar,baz&#125;.sh /newpath</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will <span class="built_in">expand</span> to</span></span><br><span class="line">cp /path/to/project/foo.sh /path/to/project/bar.sh /path/to/project/baz.sh /newpath</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Globbing techniques can also be combined</span></span><br><span class="line">mv *&#123;.py,.sh&#125; folder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will move all *.py and *.sh files</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mkdir foo bar</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h</span></span><br><span class="line">touch &#123;foo,bar&#125;/&#123;a..h&#125;</span><br><span class="line">touch foo/x bar/y</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Show differences between files <span class="keyword">in</span> foo and bar</span></span><br><span class="line">diff &lt;(ls foo) &lt;(ls bar)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Outputs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt; x</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">---</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&gt; y</span></span><br></pre></td></tr></table></figure>

<p>通配符的概念无需多言。？表示任意一个字符，*表示任意多个字符。</p>
<p>大括号的作用比较微妙。有点像for循环遍历列表，然后自动展开。</p>
<p>这三个符号能极大的拓展匹配，实现自动化操作。</p>
<h3 id="2-7-shebang-line"><a href="#2-7-shebang-line" class="headerlink" title="2.7 shebang line"></a>2.7 shebang line</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br></pre></td></tr></table></figure>

<p>Shebang line是指在脚本文件的第一行中使用特定格式的注释来指定解释器的路径。Shebang（也称为 Hashbang ）是一个由井号和叹号构成的字符串行 *<code>#!</code>*。</p>
<p>Shebang line的作用是告诉系统应该使用哪个解释器来执行脚本，从而使脚本能够正确地运行。</p>
<blockquote>
<p>Some differences between shell functions and scripts that you should keep in mind are:</p>
<ul>
<li>Functions have to be in the same language as the shell, while scripts can be written in any language. This is why including a shebang for scripts is important.</li>
<li>Functions are loaded once when their definition is read. Scripts are loaded every time they are executed. This makes functions slightly faster to load, but whenever you change them you will have to reload their definition.</li>
<li>Functions are executed in the current shell environment whereas scripts execute in their own process. Thus, functions can modify environment variables, e.g. change your current directory, whereas scripts can’t. Scripts will be passed by value environment variables that have been exported using <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/export.1p.html"><code>export</code></a></li>
<li>As with any programming language, functions are a powerful construct to achieve modularity, code reuse, and clarity of shell code. Often shell scripts will include their own function definitions.</li>
</ul>
</blockquote>
<p>differences between shell functions and scripts</p>
<ul>
<li>functions are executed in the current shell environment </li>
<li>scripts execute in their own process</li>
</ul>
<p>执行shell脚本其实是另外开了一个进程执行，所以当前环境不受影响。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source xx.sh	</span><br></pre></td></tr></table></figure>

<p>而source一个shell脚本其实是加载脚本内的变量，这会影响当前环境变量。</p>
<h3 id="2-8-shell-tools"><a href="#2-8-shell-tools" class="headerlink" title="2.8 shell tools"></a>2.8 shell tools</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">find </span><br><span class="line">grep</span><br><span class="line">uniq</span><br><span class="line">sort</span><br><span class="line">wc</span><br><span class="line">awk</span><br></pre></td></tr></table></figure>

<p>一些好用的小工具：</p>
<ul>
<li><p><input checked="" disabled="" type="checkbox"> 
TLDR pages</p>
</li>
<li><p><input checked="" disabled="" type="checkbox"> 
Tree</p>
</li>
<li><p>fasd</p>
</li>
<li><p>autojump</p>
</li>
<li><p>nnn</p>
</li>
</ul>
<h2 id="五、Command-line-Environment"><a href="#五、Command-line-Environment" class="headerlink" title="五、Command-line Environment"></a>五、<a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/2020/command-line/">Command-line Environment</a></h2><p>提升你的shell工作流。</p>
<h3 id="5-1-job-control"><a href="#5-1-job-control" class="headerlink" title="5.1 job control"></a>5.1 job control</h3><p>你的shell使用一种叫做信号的机制在进程间沟通。信号是一种软中断机制。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctrl-c 传递SIGINT信号</span><br><span class="line">ctrl-\ 传递SIGQUIT信号</span><br><span class="line">ctrl-z 传递SIGTSTP信号，short for Terminal Stop</span><br></pre></td></tr></table></figure>

<p>SIGTERM signal ask a process to exit. Using <code>kill</code> command to send it. </p>
<ul>
<li>kill</li>
<li>jobs</li>
<li>fg</li>
<li>bg</li>
<li>nohup</li>
</ul>
<h3 id="5-2-terminal-multiplexers"><a href="#5-2-terminal-multiplexers" class="headerlink" title="5.2 terminal multiplexers"></a>5.2 terminal multiplexers</h3><p><strong>tmux教学</strong></p>
<p>leading key <code>&lt;C-b&gt; x</code> means you press <code>ctrl</code> and <code>b</code>, then release them together, and then press <code>x</code></p>
<p>panes</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">竖直分裂一个窗口 &lt;C-b&gt; %</span><br><span class="line">水平分裂一个窗口 &lt;C-b&gt; &quot;</span><br><span class="line">关闭当前窗口 exit or ctrl-d</span><br></pre></td></tr></table></figure>

<p>windows - equivalent to tabs in browsers(threads in process)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;C-b&gt; c  创建一个虚拟桌面</span><br><span class="line">&lt;C-b&gt; p  切换上一个</span><br><span class="line">&lt;C-b&gt; n		切换下一个</span><br></pre></td></tr></table></figure>

<p>sessions - a session is an independent workspace with one or more windows</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tmux  # start a new session</span><br><span class="line">tmux new -s NAME # start a new session with name</span><br><span class="line">tmux ls #ls current sessions</span><br><span class="line">detach a session with &lt;C-b&gt; d</span><br><span class="line">attach a session `tmux a` , with -t to specify which</span><br></pre></td></tr></table></figure>

<h3 id="5-3-Aliases"><a href="#5-3-Aliases" class="headerlink" title="5.3 Aliases"></a>5.3 Aliases</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias name=&quot;command arg1 arg2&quot;</span><br></pre></td></tr></table></figure>

<p>为你的常用命令设置别名，减少重复劳动。</p>
<p>使用<code>alias</code>可以查看设置的别名。</p>
<p>常见的别名设置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">todo</span><br></pre></td></tr></table></figure>

<h3 id="5-4-Dotfiles"><a href="#5-4-Dotfiles" class="headerlink" title="5.4 Dotfiles"></a>5.4 Dotfiles</h3><p>隐藏文件，通常是各种程序的配置文件。</p>
<ul>
<li>bash <code>~/.bashrc </code>or<code>~/.bash_profile</code></li>
<li>git <code>~/.gitconfig</code></li>
<li>vim <code>~/.vimrc</code></li>
<li>tmux <code>~/.tmux.conf</code></li>
<li>ssh<code>~/.ssh/config</code></li>
</ul>
<p>关于隐藏文件，我们需要知道三件事：</p>
<ul>
<li>内容</li>
<li>位置</li>
<li>管理</li>
</ul>
<h3 id="5-5-Remote-Machines"><a href="#5-5-Remote-Machines" class="headerlink" title="5.5 Remote Machines"></a>5.5 Remote Machines</h3><p>（1）ssh远程登录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@remote_server_name</span><br></pre></td></tr></table></figure>

<p>ssh远程登录十分重要。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@remote_server_name command</span><br></pre></td></tr></table></figure>

<p>如果只执行一条命令，不想登录远程主机。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls | ssh user@remote_server_name grep PATTERN</span><br></pre></td></tr></table></figure>

<p>这条命令会先将本地ls的输出通过管道传送到远程机器的grep上。是不是很神奇。这就是Unix的设计哲学。</p>
<p>（2）如果你不想每次都输入密码，利用非对称加密算法中的公钥和私钥，就能免去麻烦。</p>
<hr>
<h3 id="Key-generation"><a href="#Key-generation" class="headerlink" title="Key generation"></a>Key generation</h3><p>To generate a pair you can run <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/ssh-keygen.1.html"><code>ssh-keygen</code></a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -o -a 100 -t ed25519 -f ~/.ssh/id_ed25519</span><br></pre></td></tr></table></figure>

<p>You should choose a passphrase, to avoid someone who gets hold of your private key to access authorized servers. Use <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/ssh-agent.1.html"><code>ssh-agent</code></a> or <a target="_blank" rel="noopener" href="https://linux.die.net/man/1/gpg-agent"><code>gpg-agent</code></a> so you do not have to type your passphrase every time.</p>
<p>If you have ever configured pushing to GitHub using SSH keys, then you have probably done the steps outlined <a target="_blank" rel="noopener" href="https://help.github.com/articles/connecting-to-github-with-ssh/">here</a> and have a valid key pair already. To check if you have a passphrase and validate it you can run <code>ssh-keygen -y -f /path/to/key</code>.</p>
<h3 id="Key-based-authentication"><a href="#Key-based-authentication" class="headerlink" title="Key based authentication"></a>Key based authentication</h3><p><code>ssh</code> will look into <code>.ssh/authorized_keys</code> to determine which clients it should let in. To copy a public key over you can use:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat .ssh/id_ed25519.pub | ssh foobar@remote &#x27;cat &gt;&gt; ~/.ssh/authorized_keys&#x27;</span><br></pre></td></tr></table></figure>

<p>A simpler solution can be achieved with <code>ssh-copy-id</code> where available:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id -i .ssh/id_ed25519 foobar@remote</span><br></pre></td></tr></table></figure>

<hr>
<p>（3）文件传输</p>
<ul>
<li>ssh+tee</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat localfile | ssh remote_server tee serverfile</span><br></pre></td></tr></table></figure>

<p>tee命令读标准输入到一个文件中。</p>
<ul>
<li>scp</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp path/local_file remote_host:path/remote_file</span><br></pre></td></tr></table></figure>

<p>scp可以像cp一样，将本地文件cp到远程路径</p>
<ul>
<li>rsync</li>
</ul>
<p>增强的scp，不过多深入。</p>
<p>（4）端口转发</p>
<ul>
<li>本地端口转发：发送给本地端口的请求发送到远程机器上</li>
<li>远程端口转发：远程机器监听请求，将请求转发给本地机器</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L local_ip:local_port:remote_ip:remote_port user@remote_seerver</span><br></pre></td></tr></table></figure>

<p>这是本地端口转发的语法，L表示本地端口转发。本地网卡端口是可以省略的，这时表示local port绑定了本地主机所有的网卡。</p>
<p>比如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh -L 9999:localhost:8888 user@remote_server</span></span><br></pre></td></tr></table></figure>

<p>通过访问本地localhost:9999就能访问远程服务器的localhost:8888服务。</p>
<p>了解跳板机的概念：<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1035160">https://developer.aliyun.com/article/1035160</a></p>
<h3 id="5-6-Shells-Frameworks"><a href="#5-6-Shells-Frameworks" class="headerlink" title="5.6 Shells &amp; Frameworks"></a>5.6 Shells &amp; Frameworks</h3><p>On-my-zsh</p>
<ul>
<li><p><input checked="" disabled="" type="checkbox"> 
Syntax-highlighting</p>
</li>
<li><p><input checked="" disabled="" type="checkbox"> 
History-substring-search</p>
</li>
</ul>
<p>框架是件美好的事情。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Missing Semmster Learning 学习笔记</p><p><a href="https://xyz.desirer233.fun/2023/12/01/工具学习/终端/missing-semester-note/">https://xyz.desirer233.fun/2023/12/01/工具学习/终端/missing-semester-note/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Desirer</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2023-12-01</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-12-01</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/12/01/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/Git/Git-fast-learning/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Git快速入门</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/12/01/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/%E7%BB%88%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span class="level-item">终端基础知识</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#一、Course-overview-the-shell"><span class="level-left"><span class="level-item">1</span><span class="level-item">一、Course overview + the shell</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-1-shell命令入门"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">1.1 shell命令入门</span></span></a></li><li><a class="level is-mobile" href="#1-2-how-system-can-find-echo"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">1.2 how system can find echo?</span></span></a></li><li><a class="level is-mobile" href="#1-3-navigting-in-the-shell"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">1.3 navigting in the shell</span></span></a></li><li><a class="level is-mobile" href="#1-4-connecting-programs"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">1.4 connecting programs</span></span></a></li></ul></li><li><a class="level is-mobile" href="#二、Shell-Tools-and-Scripting"><span class="level-left"><span class="level-item">2</span><span class="level-item">二、Shell Tools and Scripting</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-variable"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">2.1 variable</span></span></a></li><li><a class="level is-mobile" href="#2-2-function"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">2.2 function</span></span></a></li><li><a class="level is-mobile" href="#2-3-Logical-command"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">2.3 Logical command</span></span></a></li><li><a class="level is-mobile" href="#2-4-command-substitution"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">2.4 command substitution</span></span></a></li><li><a class="level is-mobile" href="#2-5-Process-substitution"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">2.5 Process substitution</span></span></a></li><li><a class="level is-mobile" href="#2-6-wildcards-and-curly-braces"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">2.6 wildcards and curly braces</span></span></a></li><li><a class="level is-mobile" href="#2-7-shebang-line"><span class="level-left"><span class="level-item">2.7</span><span class="level-item">2.7 shebang line</span></span></a></li><li><a class="level is-mobile" href="#2-8-shell-tools"><span class="level-left"><span class="level-item">2.8</span><span class="level-item">2.8 shell tools</span></span></a></li></ul></li><li><a class="level is-mobile" href="#五、Command-line-Environment"><span class="level-left"><span class="level-item">3</span><span class="level-item">五、Command-line Environment</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#5-1-job-control"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">5.1 job control</span></span></a></li><li><a class="level is-mobile" href="#5-2-terminal-multiplexers"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">5.2 terminal multiplexers</span></span></a></li><li><a class="level is-mobile" href="#5-3-Aliases"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">5.3 Aliases</span></span></a></li><li><a class="level is-mobile" href="#5-4-Dotfiles"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">5.4 Dotfiles</span></span></a></li><li><a class="level is-mobile" href="#5-5-Remote-Machines"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">5.5 Remote Machines</span></span></a></li><li><a class="level is-mobile" href="#Key-generation"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">Key generation</span></span></a></li><li><a class="level is-mobile" href="#Key-based-authentication"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">Key based authentication</span></span></a></li><li><a class="level is-mobile" href="#5-6-Shells-Frameworks"><span class="level-left"><span class="level-item">3.8</span><span class="level-item">5.6 Shells &amp; Frameworks</span></span></a></li></ul></li></ul></div></div><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Linux-Unix/"><span class="level-start"><span class="level-item">Linux/Unix</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/MIT6-824/"><span class="level-start"><span class="level-item">MIT6.824</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">后端开发</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">工具学习</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/Vim/"><span class="level-start"><span class="level-item">Vim</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/%E7%BB%88%E7%AB%AF/"><span class="level-start"><span class="level-item">终端</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"><span class="level-start"><span class="level-item">操作系统</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">数据结构与算法</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/"><span class="level-start"><span class="level-item">数组与字符串</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/icon2.png" alt="Desirer&#039;s blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Desirer</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a> modified by <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Desirer</a><br><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">京ICP备2023035608</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>